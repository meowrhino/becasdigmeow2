# TODO 2025-11-12

## Imagen de la galería
- Ya se redujeron los screenshots, pero falta convertirlos a WebP/AVIF, añadir `srcset`/`sizes` y limitar su anchura real para bajar la transferencia inicial.  
- Revisar el slideshow para que solo cambie frames cuando la tarjeta esté visible y honrar `prefers-reduced-motion`; si se quita el preloader actual se pierde únicamente la garantía de que el siguiente frame esté cacheado, así que conviene o bien ampliar el intervalo o esperar a `img.decode()` antes de avanzar.

## Fondo animado
- `getRandomCloudParams()` aún genera 30‑50 nubes en móvil y 80‑120 en escritorio; conviene bajar el número de nodos (p. ej. 6‑12 en móviles y ninguno cuando hay `prefers-reduced-motion`) o sustituirlas por un SVG/pseudo-elemento con una animación sencilla.

## Tema basado en clima
- Actualmente la página arranca en `dark` y cambia cuando llega el `fetch` de OpenWeather; para evitar el “flash” se puede cachear el último tema en `localStorage`, aplicarlo antes del primer paint y lanzar el `fetch` después de `load`/`requestIdleCallback`.  
- Si no hay cache, usar `prefers-color-scheme` + hora local como fallback y actualizar el cache cuando llegue la respuesta.

## Separación de assets
- Mover el CSS a `styles/main.css` y el JS a `scripts/main.js` (o módulos específicos) con `defer` permite cachearlos, minificarlos y activar `preload` sólo para lo crítico.

## Gitignore
- Añadir `.gitignore` con `*.DS_Store` y eliminar los existentes del índice (`git rm --cached`).

## Próximos pasos sugeridos
1. Optimizar una carpeta de `galeria/` y medir el nuevo peso con `du -h` para validar la estrategia.
2. Implementar el modo “ligero” del slideshow + detección de `prefers-reduced-motion`.
3. Ajustar el generador de nubes y el selector de temas siguiendo las ideas anteriores.
